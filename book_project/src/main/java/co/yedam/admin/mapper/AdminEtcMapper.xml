<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper SYSTEM "mybatis-3-mapper.dtd">
<mapper namespace="co.yedam.admin.mapper.AdminEtcMapper">

	<!-- 주문 목록 -->
	<select id="selectOrderList" resultType="co.yedam.order.service.OrderVO">
		SELECT * FROM ORDER_TBL ORDER BY ODR_CODE
	</select>
	
	<!-- 주문상태 변경 -->
	<update id="orderComplete" parameterType="co.yedam.order.service.OrderVO">
		UPDATE ORDER_TBL SET ODR_STATUS = '주문완료' WHERE ODR_CODE =#{odrCode}
	</update>
	<update id="orderCancle" parameterType="co.yedam.order.service.OrderVO">
		UPDATE ORDER_TBL SET ODR_STATUS = '주문취소' WHERE ODR_CODE =#{odrCode}
	</update>
	<update id="orderDelivery" parameterType="co.yedam.order.service.OrderVO">
		UPDATE ORDER_TBL SET ODR_STATUS = '배송완료' WHERE ODR_CODE =#{odrCode}
	</update>

	<!-- 도서 등록 도서추가 -->
	<insert id="insertBook" parameterType="co.yedam.book.service.BookVO">
		INSERT INTO BOOK 
		VALUES ((SELECT NVL(Max(#{bookNo}),0) +1 FROM BOOK), #{bookTitle}, #{bookWriter}, #{bookPublisher}, #{bookPrice}, #{bookCnt}, #{bookImage}, #{bookSort}, #{bookContent}, #{bookType});
	</insert>

</mapper>