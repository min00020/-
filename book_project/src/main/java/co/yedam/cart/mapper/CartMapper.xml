<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper SYSTEM "path/mybatis-3-mapper.dtd">
<mapper namespace="co.yedam.cart.mapper.CartMapper">
	<select id="cartList" resultType="co.yedam.cart.service.CartVO">
		SELECT * FROM CART_TBL ORDER BY
		CART_CODE
	</select>

	<insert id="addCart"
		parameterType="co.yedam.cart.service.CartVO">
		<selectKey keyProperty="cartCode" resultType="int"
			order="BEFORE">
			select seq_cart_code.nextval from dual
		</selectKey>

		insert into cart_tbl (cart_code, book_no, user_id, cart_amount)
		values(#{cartCode }, #{bookNo }, #{userId }, #{cartAmount})
	</insert>

	<delete id="deleteCart" parameterType="int">
		delete from cart_tbl where cart_code = #{cartCode}
	</delete>
</mapper>